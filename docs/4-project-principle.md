# 프로젝트 원칙 문서 - my-todolist

## 문서 정보
- **프로젝트명**: my-todolist
- **버전**: 1.0.0 (MVP)
- **작성일**: 2026-02-11
- **원칙 문서 목적**: 일관된 개발 방향성과 코드 품질 유지

---

## 1. 최상위 원칙 (모든 스택 공통)

### 1.1 간결성과 명확성
- **KISS (Keep It Simple, Stupid)**: 가능한 한 단순하고 명확한 구현을 추구
- **YAGNI (You Aren't Gonna Need It)**: 현재 요구사항만 구현, 과도한 추상화 지양
- **DRY (Don't Repeat Yourself)**: 중복 코드 최소화, 재사용 가능한 컴포넌트/함수 작성

### 1.2 실용성 중심
- **MVP 우선**: 기능 구현보다 동작하는 제품에 집중
- **사용자 경험**: 사용자 중심의 직관적 UI/UX 설계
- **빠른 피드백**: 짧은 사이클로 개발, 지속적인 테스트

### 1.3 품질 보장
- **에러 처리**: 모든 API 호출과 사용자 입력에 대한 적절한 에러 처리
- **보안 우선**: 보안 취약점 방지를 위한 최선의 노력
- **테스트 작성**: 핵심 기능에 대한 테스트 코드 작성

---

## 2. 의존성/레이어 원칙

### 2.1 아키텍처 레이어
```
┌─────────────────────────────────────────┐
│         프레젠테이션 레이어              │
│      React 19 + TypeScript              │
└─────────────────┬───────────────────────┘
                  │ REST API (JSON)
                  │ JWT 인증
┌─────────────────▼───────────────────────┐
│         애플리케이션 레이어              │
│      Node.js + Express                  │
│   pg 라이브러리 (PostgreSQL 연동)         │
└─────────────────┬───────────────────────┘
                  │ SQL 쿼리
                  │ (pg 라이브러리)
┌─────────────────▼───────────────────────┐
│          데이터 레이어                  │
│        PostgreSQL 17                    │
└─────────────────────────────────────────┘
```

### 2.2 의존성 규칙
- **프레젠테이션 레이어**: 애플리케이션 레이어에만 의존, 데이터 레이어 직접 접근 금지
- **애플리케이션 레이어**: 데이터 레이어에만 의존, 프레젠테이션 레이어 직접 접근 금지
- **데이터 레이어**: 외부 레이어에 의존하지 않음, 순수한 데이터 저장소 역할

### 2.3 외부 라이브러리 제한
- **pg 라이브러리 강제 사용**: Prisma 또는 다른 ORM 사용 금지
- **필수 라이브러리만 사용**: 기능 구현에 필요한 최소한의 라이브러리만 사용
- **보안 검토**: 외부 라이브러리 사용 전 보안 취약점 확인

---

## 3. 코드/네이밍 원칙

### 3.1 언어 및 스타일
- **한국어 주석 허용**: 모든 주석은 영어 또는 한국어로 작성 가능
- **한국어 에러 메시지 허용**: 사용자에게 보여주는 에러 메시지는 한국어 허용
- **TypeScript 사용**: 타입 안정성 확보, 모든 함수/변수에 타입 명시

### 3.2 네이밍 컨벤션

#### 백엔드 (Node.js/Express)
- **파일명**: `camelCase.js` 또는 `kebab-case.js` (컨트롤러/라우터 구분)
- **함수명**: `camelCase` (예: `createUser`, `validateToken`)
- **변수명**: `camelCase` (예: `userId`, `isLoggedIn`)
- **상수명**: `UPPER_SNAKE_CASE` (예: `JWT_EXPIRES_IN`, `DEFAULT_PAGE_SIZE`)
- **클래스명**: `PascalCase` (예: `DatabaseConnection`)

#### 프론트엔드 (React/TypeScript)
- **컴포넌트 파일명**: `PascalCase.tsx` (예: `LoginForm.tsx`, `TodoItem.tsx`)
- **함수명**: `camelCase` (예: `handleLogin`, `fetchTodos`)
- **훅 파일명**: `useCamelCase.ts` (예: `useAuth.ts`, `useTodos.ts`)
- **CSS 클래스명**: `kebab-case` 또는 `camelCase` (CSS Modules 사용)

### 3.3 코드 구조
- **단일 책임 원칙**: 하나의 함수/클래스는 하나의 책임만 가지도록
- **함수 길이 제한**: 한 함수는 최대 20줄 이내 유지
- **파일 크기 제한**: 한 파일은 최대 200줄 이내 유지
- **의존성 주입 최소화**: 간단한 프로젝트이므로 DI 프레임워크 사용 지양

---

## 4. 테스트/품질 원칙

### 4.1 테스트 전략
- **단위 테스트**: 핵심 비즈니스 로직에 대한 단위 테스트 작성
- **통합 테스트**: API 엔드포인트와 데이터베이스 연동 테스트
- **수동 테스트**: MVP 기능에 대한 수동 테스트 체크리스트 작성
- **E2E 테스트**: 주요 사용자 시나리오에 대한 E2E 테스트 작성

### 4.2 품질 기준
- **TypeScript 에러 0건**: `tsc --noEmit` 실행 시 에러 없음
- **ESLint 규칙 준수**: 일관된 코드 스타일 유지
- **API 응답 시간**: 로컬 환경 기준 1초 이내 응답
- **에러 처리 완비**: 모든 API는 일관된 에러 응답 구조

### 4.3 테스트 커버리지
- **핵심 기능 100% 커버리지**: 인증/할일 CRUD 기능은 반드시 테스트 포함
- **에지 케이스 테스트**: 유효하지 않은 입력, 인증 실패 등 테스트
- **성능 테스트**: 간단한 로드 테스트 (MVP 수준)

---

## 5. 설정/보안/운영 원칙

### 5.1 환경 변수 관리
- **.env 파일 사용**: 민감한 정보는 환경 변수로 관리
- **.gitignore 적용**: .env 파일은 절대 커밋하지 않음
- **기본값 설정**: 필수 환경 변수 누락 시 기본값 제공

### 5.2 보안 원칙
- **비밀번호 암호화**: bcrypt 사용, cost factor 10 이상
- **JWT 토큰 관리**: 24시간 유효기간, httpOnly 쿠키 또는 localStorage 저장
- **SQL Injection 방어**: pg 라이브러리의 파라미터화된 쿼리 사용
- **XSS 방어**: 사용자 입력 검증 및 이스케이핑
- **인증/인가 검증**: 모든 API 엔드포인트에 인증 미들웨어 적용

### 5.3 운영 원칙
- **로컬 개발 환경**: 로컬 머신에서 개발 및 테스트 진행
- **배포 환경 제외**: Vercel 등 배포 환경은 고려하지 않음
- **로깅**: 개발 환경에서는 콘솔 로깅만 사용
- **모니터링**: MVP 단계에서는 모니터링 도구 사용하지 않음

---

## 6. 프론트엔드 디렉토리 구조

```
frontend/
├── public/
│   ├── index.html
│   └── favicon.ico
├── src/
│   ├── components/           # 재사용 가능한 UI 컴포넌트
│   │   ├── LoginForm.tsx
│   │   ├── RegisterForm.tsx
│   │   ├── TodoItem.tsx
│   │   ├── TodoForm.tsx
│   │   └── ConfirmModal.tsx
│   ├── pages/               # 라우팅되는 페이지 컴포넌트
│   │   ├── Login.tsx
│   │   ├── Register.tsx
│   │   └── TodoList.tsx
│   ├── hooks/               # 커스텀 React 훅
│   │   ├── useAuth.ts
│   │   └── useTodos.ts
│   ├── api/                 # API 호출 관련 로직
│   │   └── api.ts
│   ├── types/               # TypeScript 타입 정의
│   │   ├── auth.ts
│   │   └── todo.ts
│   ├── utils/               # 유틸리티 함수
│   │   ├── validators.ts
│   │   └── formatters.ts
│   ├── styles/              # 전역 스타일 및 테마
│   │   ├── globals.css
│   │   └── theme.ts
│   ├── contexts/            # React Context
│   │   └── AuthContext.tsx
│   ├── App.tsx              # 루트 컴포넌트
│   └── main.tsx             # 애플리케이션 진입점
├── package.json
├── tsconfig.json
├── vite.config.ts           # 빌드 설정
└── README.md
```

### 6.1 프론트엔드 원칙
- **함수형 컴포넌트**: 클래스 컴포넌트 대신 함수형 컴포넌트 사용
- **React Hooks**: 상태 관리는 useState, useEffect 등 사용
- **타입 안전성**: 모든 props와 state에 TypeScript 타입 정의
- **반응형 디자인**: 모바일/데스크톱 모두 지원
- **에러 경계**: 상위 컴포넌트에 에러 경계 설정

---

## 7. 백엔드 디렉토리 구조

```
backend/
├── src/
│   ├── controllers/         # 비즈니스 로직 처리
│   │   ├── auth.controller.js
│   │   └── todos.controller.js
│   ├── routes/              # API 라우팅
│   │   ├── auth.routes.js
│   │   └── todos.routes.js
│   ├── middleware/          # 미들웨어
│   │   └── auth.middleware.js
│   ├── services/            # 비즈니스 로직
│   │   ├── auth.service.js
│   │   └── todos.service.js
│   ├── models/              # 데이터베이스 모델 (SQL 쿼리)
│   │   ├── user.model.js
│   │   └── todo.model.js
│   ├── utils/               # 유틸리티 함수
│   │   ├── jwt.utils.js
│   │   └── password.utils.js
│   ├── validations/         # 입력 검증
│   │   ├── auth.validation.js
│   │   └── todo.validation.js
│   ├── db/                  # 데이터베이스 설정
│   │   ├── connection.js
│   │   └── schema.sql
│   ├── config/              # 환경 설정
│   │   └── config.js
│   └── server.js            # 서버 시작점
├── .env                     # 환경 변수
├── .gitignore
├── package.json
├── README.md
└── nodemon.json             # 개발 서버 설정
```

### 7.1 백엔드 원칙
- **pg 라이브러리 강제 사용**: Prisma 또는 다른 ORM 사용 금지
- **SQL 쿼리 직접 작성**: 데이터베이스 연동은 SQL 쿼리 직접 작성
- **에러 처리 일관성**: 모든 API는 일관된 에러 응답 구조
- **입력 검증**: express-validator 또는 자체 검증 로직 사용
- **JWT 인증**: 모든 보호된 엔드포인트에 인증 미들웨어 적용

---

## 8. 개발 프로세스 원칙

### 8.1 코드 리뷰
- **간단한 리뷰**: 짧은 개발 주기로 간단한 코드 리뷰 진행
- **페어 프로그래밍**: 복잡한 기능은 페어 프로그래밍 고려
- **자동화 도구**: ESLint, Prettier 등 자동화 도구 사용

### 8.2 커밋 메시지
- **Conventional Commits**: feat, fix, docs, style, refactor, test, chore 등 사용
- **한글 설명 허용**: 간단한 설명은 한글 사용 가능
- **한 줄 제한**: 커밋 제목은 50자 이내

### 8.3 브랜치 전략
- **main 브랜치**: 완성된 기능만 머지
- **feature 브랜치**: 기능별로 브랜치 생성
- **짧은 라이프사이클**: 브랜치는 빠르게 머지

---

## 9. 팀 협업 원칙

### 9.1 의사소통
- **문서 중심**: 중요한 결정 사항은 문서에 기록
- **일일 스크럼**: 짧은 시간 동안 진행 상황 공유
- **문제 해결**: 문제가 발생하면 즉시 공유 및 해결

### 9.2 책임 분담
- **프론트엔드/백엔드 분리**: 역할에 따라 책임 분담
- **API 명세 공유**: API 명세는 사전에 공유 및 합의
- **인터페이스 정의**: 프론트엔드와 백엔드 간 인터페이스 명확히 정의

---

## 10. 품질 보증 원칙

### 10.1 코드 품질
- **리팩토링 지속**: 코드가 복잡해지면 즉시 리팩토링
- **테스트 커버리지**: 핵심 로직은 테스트 커버리지 유지
- **성능 고려**: 사용자 경험을 위한 성능 고려

### 10.2 보안 품질
- **정기 점검**: 보안 취약점에 대한 정기 점검
- **입력 검증**: 모든 사용자 입력에 대한 검증
- **로그 관리**: 민감한 정보는 로그에 기록하지 않음

---

**🚀 원칙 문서 목적: 일관된 개발 방향성 확보 및 코드 품질 유지**
**🎯 핵심 원칙: 간단하게, 빠르게, 안전하게, 품질 있게**